{"ast":null,"code":"// // src/components/UserProfile.js\n// import React, { useEffect, useState } from 'react';\n// import axios from 'axios';\n// import Post from './Post';\n// import { useNavigate } from 'react-router-dom';\n// import 'bootstrap/dist/css/bootstrap.min.css';\n// import '../style.css'; // Ensure Bootstrap is imported // For custom styles, if needed\n// import avatar from '../assets/user.png';\n// const UserProfile = () => {\n//   const [profile, setProfile] = useState(null); // Changed from 'user' to 'profile'\n//   const [posts, setPosts] = useState([]);\n//   const navigate = useNavigate(); // Retrieve token from local storage\n\n//   useEffect(() => {\n//     const fetchUserProfile = async () => {\n//         try {\n//             const response = await axios.get('http://localhost:5000/api/users/profile', {\n//                 headers: {\n//                     'Authorization': `Bearer ${localStorage.getItem('token')}`\n//                 }\n//             });\n//             setProfile(response.data);\n\n//             if (response.data._id) {\n//                 const postsResponse = await axios.get(`http://localhost:5000/api/posts/user/${response.data._id}`, {\n//                     headers: {\n//                         'Authorization': `Bearer ${localStorage.getItem('token')}`\n//                     }\n//                 });\n//                 setPosts(postsResponse.data);\n//             } else {\n//                 console.error('User ID is undefined');\n//             }\n//         } catch (error) {\n//             console.error('Error fetching user profile:', error);\n//         }\n//     };\n\n//     fetchUserProfile();\n// }, []);\n\n//   const handleLogout = () => {\n//       localStorage.removeItem('token');\n//       navigate('/login');\n//   };\n\n//   if (!profile) return <p>Loading...</p>; \n\n//     return (\n//         <div className=\"container\">\n//             <div className=\"card overflow-hidden\">\n//                 <div className=\"card-body p-0\">\n//                     <img src=\"https://www.bootdey.com/image/1352x300/FF7F50/000000\" alt=\"\" className=\"img-fluid\" />\n//                     <div className=\"row align-items-center\">\n//                         <div className=\"col-lg-4 order-lg-1 order-2\">\n//                             <div className=\"d-flex align-items-center justify-content-around m-4\">\n//                                 <div className=\"text-center\">\n//                                     <i className=\"fa fa-file fs-6 d-block mb-2\"></i>\n//                                     <h4 className=\"mb-0 fw-semibold lh-1\">{posts.length}</h4>\n//                                     <p className=\"mb-0 fs-4\">Posts</p>\n//                                 </div>\n//                                 <div className=\"text-center\">\n//                                     <i className=\"fa fa-user fs-6 d-block mb-2\"></i>\n//                                     <h4 className=\"mb-0 fw-semibold lh-1\">{profile.followers ? profile.followers.length : 0}</h4>\n//                                     <p className=\"mb-0 fs-4\">Followers</p>\n//                                 </div>\n//                                 <div className=\"text-center\">\n//                                     <i className=\"fa fa-check fs-6 d-block mb-2\"></i>\n//                                     <h4 className=\"mb-0 fw-semibold lh-1\">{profile.following ? profile.following.length : 0}</h4>\n//                                     <p className=\"mb-0 fs-4\">Following</p>\n//                                 </div>\n//                             </div>\n//                         </div>\n//                         <div className=\"col-lg-4 mt-n3 order-lg-2 order-1\">\n//                             <div className=\"mt-n5\">\n//                                 <div className=\"d-flex align-items-center justify-content-center mb-2\">\n//                                     <div className=\"linear-gradient d-flex align-items-center justify-content-center rounded-circle\" style={{ width: '110px', height: '110px' }}>\n//                                         <div className=\"border border-4 border-white d-flex align-items-center justify-content-center rounded-circle overflow-hidden\" style={{ width: '100px', height: '100px' }}>\n//                                             <img src={profile.profilePicture || avatar} alt=\"\" className=\"w-100 h-100\" />\n//                                         </div>\n//                                     </div>\n//                                 </div>\n//                                 <div className=\"text-center\">\n//                                     <h5 className=\"fs-5 mb-0 fw-semibold\">{profile.username}</h5>\n//                                 </div>\n//                             </div>\n//                         </div>\n//                         <div className=\"col-lg-4 order-last\">\n\n//                         </div>\n//                     </div>\n//                     <ul className=\"nav nav-pills user-profile-tab justify-content-end mt-2 bg-light-info rounded-2\" id=\"pills-tab\" role=\"tablist\">\n//                         <li className=\"nav-item\" role=\"presentation\">\n//                         <button className=\"nav-link position-relative rounded-0 active d-flex align-items-center justify-content-center bg-transparent fs-3 py-6\" id=\"pills-profile-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-profile\" type=\"button\" role=\"tab\" aria-controls=\"pills-profile\" aria-selected=\"true\">\n//                                 <i className=\"fa fa-user me-2 fs-6\"></i>\n//                                 <a href=\"/\" className=\"text-decoration-none\" > <span className=\"d-none d-md-block\" >Home</span></a>\n//                             </button>\n//                         </li>\n//                         <li className=\"nav-item\" role=\"presentation\">\n//                             <button className=\"nav-link position-relative rounded-0 active d-flex align-items-center justify-content-center bg-transparent fs-3 py-6\" id=\"pills-profile-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-profile\" type=\"button\" role=\"tab\" aria-controls=\"pills-profile\" aria-selected=\"true\">\n//                                 <i className=\"fa fa-user me-2 fs-6\"></i>\n//                                 <a href=\"/profile/edit\" className=\"text-decoration-none\" > <span className=\"d-none d-md-block\" >Edit Profile</span></a>\n//                             </button>\n//                         </li>\n//                     </ul>\n//                 </div>\n//             </div>\n//             <div className=\"tab-content\" id=\"pills-tabContent\">\n//                 <div className=\"tab-pane fade show active\" id=\"pills-profile\" role=\"tabpanel\" aria-labelledby=\"pills-profile-tab\" tabIndex=\"0\">\n//                     <div className=\"row\">\n//                         <div className=\"col-lg-4\">\n//                             <div className=\"card shadow-none border\">\n//                                 <div className=\"card-body\">\n//                                     <h4 className=\"fw-semibold mb-3\"></h4>\n//                                     <p> {profile.bio}</p>\n//                                     <ul className=\"list-unstyled mb-0\">\n//                   <li className=\"d-flex align-items-center gap-3 mb-4\">\n//                     <i className=\"fa fa-envelope text-dark fs-6\"></i>\n//                     <h6 className=\"fs-4 fw-semibold mb-0\">Bio: {profile.bio || 'No bio available'}</h6>\n//                     </li>\n//                     <li className=\"d-flex align-items-center gap-3 mb-4\">\n//                       <i className=\"fa fa-envelope text-dark fs-6\"></i>\n//                       <h6 className=\"fs-4 fw-semibold mb-0\">{profile.email}</h6>\n//                     </li>\n\n//                   </ul>\n//                                     <button onClick={handleLogout} className=\"btn btn-danger mt-3\">Logout</button>\n//                                 </div>\n//                             </div>\n//                         </div>\n\n//                         <div className=\"col-lg-8\">\n//                             <div className=\"row\">\n//                                 {posts.map(post => (\n//                                     <div className=\"col-md-6 mb-3\" key={post._id}>\n//                                         <Post post={post} />\n//                                     </div>\n//                                 ))}\n//                             </div>\n//                         </div>\n//                     </div>\n//                 </div>\n//             </div>\n//         </div>\n//     );\n// };\n\n// export default UserProfile;","map":{"version":3,"names":[],"sources":["C:/Users/Elgohry Store/social-media-app/frontend/src/components/UserProfile.js"],"sourcesContent":["// // src/components/UserProfile.js\r\n// import React, { useEffect, useState } from 'react';\r\n// import axios from 'axios';\r\n// import Post from './Post';\r\n// import { useNavigate } from 'react-router-dom';\r\n// import 'bootstrap/dist/css/bootstrap.min.css';\r\n// import '../style.css'; // Ensure Bootstrap is imported // For custom styles, if needed\r\n// import avatar from '../assets/user.png';\r\n// const UserProfile = () => {\r\n//   const [profile, setProfile] = useState(null); // Changed from 'user' to 'profile'\r\n//   const [posts, setPosts] = useState([]);\r\n//   const navigate = useNavigate(); // Retrieve token from local storage\r\n\r\n//   useEffect(() => {\r\n//     const fetchUserProfile = async () => {\r\n//         try {\r\n//             const response = await axios.get('http://localhost:5000/api/users/profile', {\r\n//                 headers: {\r\n//                     'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n//                 }\r\n//             });\r\n//             setProfile(response.data);\r\n\r\n//             if (response.data._id) {\r\n//                 const postsResponse = await axios.get(`http://localhost:5000/api/posts/user/${response.data._id}`, {\r\n//                     headers: {\r\n//                         'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n//                     }\r\n//                 });\r\n//                 setPosts(postsResponse.data);\r\n//             } else {\r\n//                 console.error('User ID is undefined');\r\n//             }\r\n//         } catch (error) {\r\n//             console.error('Error fetching user profile:', error);\r\n//         }\r\n//     };\r\n\r\n//     fetchUserProfile();\r\n// }, []);\r\n\r\n\r\n//   const handleLogout = () => {\r\n//       localStorage.removeItem('token');\r\n//       navigate('/login');\r\n//   };\r\n\r\n//   if (!profile) return <p>Loading...</p>; \r\n\r\n//     return (\r\n//         <div className=\"container\">\r\n//             <div className=\"card overflow-hidden\">\r\n//                 <div className=\"card-body p-0\">\r\n//                     <img src=\"https://www.bootdey.com/image/1352x300/FF7F50/000000\" alt=\"\" className=\"img-fluid\" />\r\n//                     <div className=\"row align-items-center\">\r\n//                         <div className=\"col-lg-4 order-lg-1 order-2\">\r\n//                             <div className=\"d-flex align-items-center justify-content-around m-4\">\r\n//                                 <div className=\"text-center\">\r\n//                                     <i className=\"fa fa-file fs-6 d-block mb-2\"></i>\r\n//                                     <h4 className=\"mb-0 fw-semibold lh-1\">{posts.length}</h4>\r\n//                                     <p className=\"mb-0 fs-4\">Posts</p>\r\n//                                 </div>\r\n//                                 <div className=\"text-center\">\r\n//                                     <i className=\"fa fa-user fs-6 d-block mb-2\"></i>\r\n//                                     <h4 className=\"mb-0 fw-semibold lh-1\">{profile.followers ? profile.followers.length : 0}</h4>\r\n//                                     <p className=\"mb-0 fs-4\">Followers</p>\r\n//                                 </div>\r\n//                                 <div className=\"text-center\">\r\n//                                     <i className=\"fa fa-check fs-6 d-block mb-2\"></i>\r\n//                                     <h4 className=\"mb-0 fw-semibold lh-1\">{profile.following ? profile.following.length : 0}</h4>\r\n//                                     <p className=\"mb-0 fs-4\">Following</p>\r\n//                                 </div>\r\n//                             </div>\r\n//                         </div>\r\n//                         <div className=\"col-lg-4 mt-n3 order-lg-2 order-1\">\r\n//                             <div className=\"mt-n5\">\r\n//                                 <div className=\"d-flex align-items-center justify-content-center mb-2\">\r\n//                                     <div className=\"linear-gradient d-flex align-items-center justify-content-center rounded-circle\" style={{ width: '110px', height: '110px' }}>\r\n//                                         <div className=\"border border-4 border-white d-flex align-items-center justify-content-center rounded-circle overflow-hidden\" style={{ width: '100px', height: '100px' }}>\r\n//                                             <img src={profile.profilePicture || avatar} alt=\"\" className=\"w-100 h-100\" />\r\n//                                         </div>\r\n//                                     </div>\r\n//                                 </div>\r\n//                                 <div className=\"text-center\">\r\n//                                     <h5 className=\"fs-5 mb-0 fw-semibold\">{profile.username}</h5>\r\n//                                 </div>\r\n//                             </div>\r\n//                         </div>\r\n//                         <div className=\"col-lg-4 order-last\">\r\n                           \r\n//                         </div>\r\n//                     </div>\r\n//                     <ul className=\"nav nav-pills user-profile-tab justify-content-end mt-2 bg-light-info rounded-2\" id=\"pills-tab\" role=\"tablist\">\r\n//                         <li className=\"nav-item\" role=\"presentation\">\r\n//                         <button className=\"nav-link position-relative rounded-0 active d-flex align-items-center justify-content-center bg-transparent fs-3 py-6\" id=\"pills-profile-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-profile\" type=\"button\" role=\"tab\" aria-controls=\"pills-profile\" aria-selected=\"true\">\r\n//                                 <i className=\"fa fa-user me-2 fs-6\"></i>\r\n//                                 <a href=\"/\" className=\"text-decoration-none\" > <span className=\"d-none d-md-block\" >Home</span></a>\r\n//                             </button>\r\n//                         </li>\r\n//                         <li className=\"nav-item\" role=\"presentation\">\r\n//                             <button className=\"nav-link position-relative rounded-0 active d-flex align-items-center justify-content-center bg-transparent fs-3 py-6\" id=\"pills-profile-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-profile\" type=\"button\" role=\"tab\" aria-controls=\"pills-profile\" aria-selected=\"true\">\r\n//                                 <i className=\"fa fa-user me-2 fs-6\"></i>\r\n//                                 <a href=\"/profile/edit\" className=\"text-decoration-none\" > <span className=\"d-none d-md-block\" >Edit Profile</span></a>\r\n//                             </button>\r\n//                         </li>\r\n//                     </ul>\r\n//                 </div>\r\n//             </div>\r\n//             <div className=\"tab-content\" id=\"pills-tabContent\">\r\n//                 <div className=\"tab-pane fade show active\" id=\"pills-profile\" role=\"tabpanel\" aria-labelledby=\"pills-profile-tab\" tabIndex=\"0\">\r\n//                     <div className=\"row\">\r\n//                         <div className=\"col-lg-4\">\r\n//                             <div className=\"card shadow-none border\">\r\n//                                 <div className=\"card-body\">\r\n//                                     <h4 className=\"fw-semibold mb-3\"></h4>\r\n//                                     <p> {profile.bio}</p>\r\n//                                     <ul className=\"list-unstyled mb-0\">\r\n//                   <li className=\"d-flex align-items-center gap-3 mb-4\">\r\n//                     <i className=\"fa fa-envelope text-dark fs-6\"></i>\r\n//                     <h6 className=\"fs-4 fw-semibold mb-0\">Bio: {profile.bio || 'No bio available'}</h6>\r\n//                     </li>\r\n//                     <li className=\"d-flex align-items-center gap-3 mb-4\">\r\n//                       <i className=\"fa fa-envelope text-dark fs-6\"></i>\r\n//                       <h6 className=\"fs-4 fw-semibold mb-0\">{profile.email}</h6>\r\n//                     </li>\r\n                    \r\n//                   </ul>\r\n//                                     <button onClick={handleLogout} className=\"btn btn-danger mt-3\">Logout</button>\r\n//                                 </div>\r\n//                             </div>\r\n//                         </div>\r\n                   \r\n//                         <div className=\"col-lg-8\">\r\n//                             <div className=\"row\">\r\n//                                 {posts.map(post => (\r\n//                                     <div className=\"col-md-6 mb-3\" key={post._id}>\r\n//                                         <Post post={post} />\r\n//                                     </div>\r\n//                                 ))}\r\n//                             </div>\r\n//                         </div>\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// export default UserProfile;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}